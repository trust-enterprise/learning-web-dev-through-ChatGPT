<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
</head>
<body>
    <h2>Shopping Cart</h2>
    <div id="productList">
        <!-- Product items will be listed here -->
    </div>
    <h3>Your Cart</h3>
    <div id="cart">
        <!-- Cart items will be displayed here -->
    </div>
    <button id="clearCartBtn">Clear Cart</button>

    <script>
        // Sample product data
        const products = [
            { id: 1, name: 'Product 1', price: 100 },
            { id: 2, name: 'Product 2', price: 200 },
            { id: 3, name: 'Product 3', price: 300 }
        ];

        // Get DOM elements
        const productList = document.getElementById('productList');
        const cart = document.getElementById('cart');
        const clearCartBtn = document.getElementById('clearCartBtn');

        // Load cart from local storage
        function loadCart() {
            const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            displayCart(cartItems);
        }

        // Display products
        function displayProducts() {
            products.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.textContent = `${product.name} - $${product.price}`;
                const addButton = document.createElement('button');
                addButton.textContent = 'Add to Cart';
                addButton.onclick = () => addToCart(product);
                productDiv.appendChild(addButton);
                productList.appendChild(productDiv);
            });
        }

        // Add product to cart
        function addToCart(product) {
            let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            const existingProduct = cartItems.find(item => item.id === product.id);
            if (existingProduct) {
                existingProduct.quantity += 1;
            } else {
                cartItems.push({ ...product, quantity: 1 });
            }
            localStorage.setItem('cart', JSON.stringify(cartItems));
            loadCart();
        }

        // Remove product from cart
        function removeFromCart(productId) {
            let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            cartItems = cartItems.filter(item => item.id !== productId);
            localStorage.setItem('cart', JSON.stringify(cartItems));
            loadCart();
        }

        // Clear all items from cart
        function clearCart() {
            localStorage.removeItem('cart');
            loadCart();
        }

        // Display cart items
        function displayCart(cartItems) {
            cart.innerHTML = '';
            if (cartItems.length === 0) {
                cart.textContent = 'Your cart is empty.';
            } else {
                cartItems.forEach(item => {
                    const cartItemDiv = document.createElement('div');
                    cartItemDiv.textContent = `${item.name} - $${item.price} x ${item.quantity}`;
                    const removeButton = document.createElement('button');
                    removeButton.textContent = 'Remove';
                    removeButton.onclick = () => removeFromCart(item.id);
                    cartItemDiv.appendChild(removeButton);
                    cart.appendChild(cartItemDiv);
                });
            }
        }

        // Event listeners
        clearCartBtn.addEventListener('click', clearCart);

        // Initialize
        displayProducts();
        loadCart();
    </script>
</body>
</html>
