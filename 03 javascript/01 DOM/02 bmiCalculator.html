<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI Calculator</title>
</head>
<body>
    <h3>BMI Calculator</h3> <hr>
    <form action="">
        <label for="weight">weight in kg</label>
        <input type="number" name="" id="weight" value="40"> <br>
        <label for="height">height in m</label>
        <input type="number" name="" id="height" value="1.5"> <br>
        <input type="submit" id="calculate"><br><br>
        <span id="result"></span>
    </form>

    <h2 align="center">
        <font color="red">Learnings</font>
    </h2> <hr>
    <ol>
        <li>value attribute in form sets default value</li>
        <li>event.preventDefault() is used to prevent default submission of form</li>
        <li>'click' event is passed inside addEventListener (instead of onclick)</li>
    </ol>

    <script>

        let calculateBmiButton = document.getElementById('calculate')

        calculateBmiButton.addEventListener('click', calculateBMI)


        function calculateBMI(event){
            //prevent default behaviour of form submission
            event.preventDefault();
            
            //access elements
            let height = parseFloat(document.getElementById('height').value);
            let weight = parseFloat(document.getElementById('weight').value); 
            let result= document.getElementById('result');

            
            if(isNaN(weight) || isNaN(height) || weight == "" || height == "" || height == 0){
                //validity check before proceeding for calculte
                result.textContent = "Enter valid input"
            }else{
                //calculation formula
                let bmi = (weight/height**2).toFixed(2);
                
                result.textContent = bmi;

                //concatenating feedback
                if(bmi < 18.5){
                    result.textContent += " underweight"
                }else if(bmi <= 24.9){
                    result.textContent += " normal weight"
                }else if(bmi <= 29.9 ){
                    result.textContent += " overweight"
                }else{
                    result.textContent += " obesity";
                }

            }
            
        }
    </script>
</body>
</html>